\2003. év 26. szám

<style> 
    p { text-align: justify; } 
</style>

# Isten megteremté a Master Boot Recordot

## A szerzőt nagy öröm éri, ennek hatására bootkezelőkkel ismerkedik, majd elmeséli, hogyan adta át az Úr Mózesnek a partíciós táblát a Sinai hegyen

Noteszgépemet sikerült viszszaszereznem a szervizből, noha igazából már lemondtam róla, ami persze csupán azt mutatja, hogy kicsinyhitű vagyok. Három és fél hét kellett hozzá, mármint a javításához, persze én többre számítottam, az én fogalmaim szerint az a természetes, ha a szervizelés fél évig tart, és a készülék reparálhatatlan voltának felismerésével fejeződik be. Azért vittem el mégis a műszaki segélyhelyre, mert tudom, hogy így szokás. Továbbá, ismereteim szerint, ilyenkor az ember azt szokta mondani, hogy sürgős volna, mármint a javítás, úgyhogy én is azt mondtam. Más kérdés, hogy csakugyan sürgős lett volna, ám ez rajtam kívül nyilván senkit se érdekel. Elkérték a mobilszámomat, majd értesíteni fognak, bólogattam, hát persze, akkor legyen nekem atípusos tüdőgyulladásom, amikor ők csakugyan rám csörögnek. Természetesen senki se hívott fel, én telefonáltam néhány nap múlva, azt mondták, meg lehet a gépet javítani. Harmincötezer forint. Akarom-e, vagy dobják a kukába egyenest? Akartam, bár érdekelt, hogy mi az isten lehet ebben harmincötezer forint. Aminek kevesebb mint a duplájáért komplett számítógépet lehet kapni manapság. VIAP4M266 alaplap, 1,7 GHz Celeron, 256 MB DDRAM, 40 GB HDD, 52x CDROM, USB 2.0 satöbbi, plusz egy év teljes körű garancia, mindez 64 900 HUF + ÁFA. Részletre is akár. Megkérdeztem, mi ebben harmincötezer forint, adaptert kell cserélni, mondta a kedves hölgy a vonal túlsó végén, ezen egy pillanatra elcsodálkoztam. Áprilisban említettem ugyanitt, hogy az OpenBSD hevesen protestált a gép rossz akkumulátora miatt, de nem ezért vittem el, hanem mert később már be se kapcsolt. Se kép, se hang. Persze csak a gépet vittem el, a tápegység (adapter) itthon maradt. Adaptert kell cserélni benne. Ha jobban meggondolom, kifogástalanul korrekt válasz, mert hát mi az adapter? Az American HeritageŽ Dictionary of the English Language szerint "One that adapts, such as a device used to effect operative compatibility between different parts of one or more pieces of apparatus." Vagyis ami más dolgok között van és azokat egymáshoz illeszti, ahogy például az ember arcbőre a fejhez illeszti a szakállt, és így szakálladapterként is felfogható. Továbbá a lábujj nem más, mint tyúkszemadapter, a kocsmaasztal poháradapter, a bableves csülökadapter és így tovább. Végső soron a jelenségvilág bármely eleme értelmezhető adapterként, amiből persze következik, hogy nem mindegyik adapter ér meg harmincötezer forintot. Például az, amit nekem most ki fognak cserélni, valószínűleg nem ér annyit, csak hát a gépre szükségem van. Úgyhogy a kérdés ­ kell vagy nem kell ­ messzemenően indokolt. Elmagyarázta a hölgy, hogy náluk ez mindig így megy, előbb árajánlat, aztán a tulaj nyilatkozik, hogy elfogadja-e vagy sem, végül a javítás. Amíg a tulaj nem nyilatkozott, addig javítás sincs ­ mondta ­, én pedig akként nyilatkoztam, hogy elfogadom. Egy hét múlva megint érdeklődtem, utánanéztek, aztán mondták, hogy harmincötezer forint lesz, el kéne dönteni, hogy akarom-e. Mert addig áll a dolog. Náluk ez mindig így megy ­ magyarázták el igen készségesen ­ előbb árajánlat, aztán a tulaj nyilatkozik, hogy elfogadja-e vagy sem, végül a javítás. Amíg a tulaj nem nyilatkozott, addig javítás sincs. Elmondtam, hogy ezt a kérdést egy héttel korábban már tisztáztuk, de sebaj, tisztázzuk megint, igen, elfogadom. Jó, mondta a szerviz, akkor megcsináljuk. Néhány nappal később újfent telefonáltam, beolvastam a munkalapszámomat, kikeresték, mondták, hogy igen, ez itt van, de nem nyúlnak hozzá, amíg nem nyilatkozom az árral kapcsolatosan. Harmincötezer forint lesz. Nekik tudniuk kéne, hogy most akkor mi legyen. Javítsák, vagy ne javítsák. Mondjam meg, mit akarok. Megmondtam, immár harmadjára, ők pedig azt ígérték, hogy telefonálni fognak. Pár napra rá felhívtam őket, és mit ad isten, a gép készen is volt. Itt van előttem a zárójelentés, a javítás részletezése rovatban az áll, hogy akkumulátorcsere. Ennek a gépnek az akkumulátorát egyetlen mozdulattal lehet a helyéről kioldani és onnan kiemelni, az akkumulátor behelyezése és rögzítése ugyancsak egyetlen mozdulat, azaz mindösszesen kettő. Nem számítva, persze, hogy az új akkumulátort ki kell hozni a raktárból, ki kell csomagolni és így tovább, ez mind-mind munkába és időbe kerül. De francba a részletekkel: a gépely itt fekszik az asztalomon, meg lehet nyomni a gombját, akkor apró, zöld fények gyulladnak ki rajta, felzúg benne a pörgettyű, majd a képernyő is kivilágosodik. Csodálatos dolog a modern technika.

### Névsorolvasás

A továbbiakban csakis bootkezelőkről lesz szó, semmi másról, úgyhogy már az elején tisztáznunk kell valamit. Ez itt nem teszt. Összeszedtem vagy két tucat bootmanagert, azokat nézegettem egy darabig, majd elkezdtem leírni, amit tapasztaltam, meg ami velük kapcsolatban az eszembe jut. Néhányuknak a nevét se említem meg, másokról összehordok hetet-havat, tehát ez valamifajta jegyzet, ami az objektivitásnak még a látszatát is kerüli. A teszt annyiban különbözik ettől, hogy nem kerüli az objektivitás látszatát, hanem éppenséggel fenntartani igyekszik, mégpedig abban a hiszemben, hogy bármely alkalmazásnak van egy, a vizsgálat körülményeitől és a vizsgáló személyétől független létezési módja, ez megismerhető és kielégítő pontossággal leírható. Sőt erre, mármint az alkalmazás(ok) megismerésére és kielégítő pontosságú leírására elvileg a tesztelő is képes volna, bár most épp nincs rá ideje. Viszont csinálhat néhány táblázatot. Ebben a részben hét alkalmazást említek meg név szerint, úgymint: BootIt Next Generation, Acronis OS Selector, Boot Manager Boot-US, Graphical Boot Manager, MasterBooter, Multiple Boot Manager és Partition Boot Manager, a jövő hónapban pedig a Ranish Partition Manager, az XOSL, az OSL2000 Boot Manager, a zBoot Manager és a SyMon kerül szóba. Célom pedig az, mint a múlt hónapban is elmondtam, hogy a szervizből végül is visszanyert noteszgépen fusson az XP, a FreeBSD, egy-két Linux-változat, esetleg a Solaris, és mellesleg az se hátrány, ha a megoldás nem kerül semmibe. A BootIt Next Generation 1.44 verziójával kezdünk, ő ­ saját legjobb tudomása szerint ­ akár kétszáznál is több partíciót hoz létre, maximálisan nyolc merevlemezt kezel, és bármelyik meghajtó bármely partíciójáról képes operációs rendszert indítani. Nekem elég lesz az is, ha egyetlen meghajtón elégséges számú partíciót alakít ki, és azokra működő operációs rendszereket telepít. Mindenesetre letöltöm (http://www.terabyteunlimited.com/bootitng.html), kicsomagolom, majd a benne lévő image állományt a dd nevű Unix segédprogrammal (ami természetesen a Cygwin alatt is létezik) fölírom egy hajlékonylemezre. Ez ugyan XP alatt történik, és így a csomagban lévő Windows-alkalmazás révén egyszerűbben érnék célba, viszont a dd használatát Cygwin alatt még sohase próbáltam. Érdekes vonása, hogy most is ugyanúgy kell paraméterezni, mintha komplett Unix rendszerben volnánk, esetünkben tehát a parancs a következő: dd if=DISKIMG3.DAT of=/dev/ fd0 bs=1024 Noha egyébként a Cygwin könyvtárstruktúrájában olyan, hogy /dev, nem is létezik. Ez persze, nem fontos, csak adalék ahhoz, hogy mennyire sokszínű és szórakoztató tud lenni a világ. Most tehát van ez a noteszgép, húszgigás merevlemezén egy darab négygigás partíció, rajta az XP. Innen indulunk.

### BootIt Next Generation

Újraindítok, a kistafírozott hajlékonylemez a meghajtójában lapul, előjön egy 640ő480 képpontnyi grafikus felület, a Windows 95-re hasonlít és mindenestül egérre van alapozva, viszont úgy tűnik, az én rút taposóegeremet, ami ebben a gépben lapul, nem szereti igazán. Megkérdezhetném, persze, hogy mi a jóságos istenért kell egy bootkezelőnek, noch dazu egy bootkezelő telepítő programjának grafikusnak lennie, de nem kérdezem meg. El akarják adni, mármint a BootIt Next Generationt (sajnos a nevétől a szőr feláll a hátamon, nem tudom, miért), harmincöt dollárért akarják eladni egy olyan piacon, amihez hasonló a gazdasági élet más szektoraiban el se képzelhető. Gondoljuk meg, mi volna akkor, ha autót is úgy vásárolnánk, hogy hazavinnénk tízet-tizenötöt, vagy amennyi tetszik, használnánk őket egy hónapon át, és akkor döntenénk el, megvesszük-e valamelyiket is, vagy választunk inkább egy ingyenest. (Merthogy az is volna, ingyenes autó, freeware. Másmilyen volna, mint az, amelyik pénzbe kerül, de nem szükségszerűen volna rosszabb. Sőt.) Gyanítom, hogy ez esetben a nagy autógyártók világképe egy vajszínű árnyalattal borongósabb lenne a mostaninál, miközben ma az informatikai piac részvevőinek bizonyos hányada ilyen feltételek mellett próbál megélni, közülük némelyek nyilván nem is annyira sikertelenül, mert hiszen megvannak. Ott tartottunk tehát, hogy a BootIt Next Generation telepítőlemezéről bootoltam, a telepítő pedig nekem szegezett egy alapvető kérdést, hogy tudniillik akarok-e több mint négy elsődleges partíciót vagy nem akarok. Ez a lényeg. Ha nem akarnék, akkor eszem ágában se volna cicázni azzal az alkalmazással, amelynek létrehozója harmincöt dollárnyi bevételben reménykedik, és ezt az én kasszám rovására kívánná realizálni. Ha ugyanis csak az indítandó rendszer kiválasztása a feladat, arra ott a Linux bootkezelője (a lilo vagy még inkább a grub), vagy a FreeBSD-é, vagy van egy halom külső program is, némelyik, például a Graphical Boot Manager (http://sourceforge.net/projects/gag/) igen kényelmes és látványos, és persze egy fillérbe se kerül. Nekem viszont nyolc partíció kell minimum, ámde ez esetben nem particionálhatok az e célra általában használatos szerszámokkal, amilyen például az XP számítógép-kezelés/lemezkezelés nevű eszköze, vagy a FreeBSD fdiskje vagy ehhez hasonlók, mert hiszen azokkal merevlemezenként csak négy partíciót lehet létrehozni. Idemásolok a múlt havi jegyzetem végéről négy mondatot: "Istentől rendelt dolog, hogy a pécé merevlemezén mindössze négy partíció kapjon helyet, erről az Örökkévaló akként gondoskodott, hogy létrehozta az MBR-t, teljes nevén a Master Boot Recordot, annak a végén pedig a partíciós táblát, egy hatvannégy bájt terjedelmű dokumentumot, ami tizenhat bájtos bejegyzéseket tartalmaz. 64/16 = 4, azaz mindössze négyet. Egy bejegyzés, egy partíció. Több partíció azért nem lehet, mert a partíció attól létezik, hogy a partíciós táblában nyoma van." Ezt az akadályt a fondorlatosabb bootkezelők, akik közé remélhetőleg a BootIt Next Generation is tartozik, akként ugorják át, hogy saját, belső partíciós táblájuk van, az igazinál jóval méretesebb, abban van akárhány bejegyzés, és ebből bootoláskor az indítandó operációs rendszernek kiosztanak annyit, amennyi őt megilleti. Maximum, persze, négyet. Vagyis röptében felülírják az igazi partíciós táblát, amit a rendszer és az alatta futó alkalmazások sokasága lát, és ami csak addig lesz érvényben, amíg a hatalmat ez a konkrét rendszer gyakorolja.

### Acronis OS Selector

Természetátalakító munkámba a dokumentáció elolvasása nélkül vágok bele, három okból: először is azért, mert mindenki így csinálja, másodszor azért, mert egy lényegében üres gépen gyakorolok, ha az egész merevlemez valamennyi adata elvész, akkor sincs semmi baj, harmadszor pedig azért, mert tapasztalataim szerint a programok dokumentációja az esetek egy részében zavaros, más részében kibírhatatlanul szájbarágó, a leggyakrabban pedig mindkettő egyszerre. A BootIt Next Generation munkafelületén van egy ikon azzal a felirattal, hogy Partition Work, nyilván ott lehet particionálni, és csakugyan. Létrehozom a megfelelő partíciókat, a feladat egyszerű és elronthatatlannak látszik. Miután ez megvolt, a Boot Edit menüponttal próbálkozom, tekintve, hogy a többi (Backup, Restore, Help, Reboot meg hasonlók) nem tűnik jó választásnak. Ez már nem annyira világos, sőt bele kell olvasnom a dokumentációba, amely ez esetben a szájbarágós fajtához tartozik. Létrehozok egy Debian és egy FreeBSD menüpontot a bootkezelő startmenüje alá, kijelölöm hozzájuk a megfelelő partíciókat, kijelölöm, hogy első alkalommal arról az eszközről bootoljon a rendszer, ami a BIOS-ban a merevlemez után következik (vagyis a cédéről), és ennyi. Apró, de említésre méltó probléma viszont, hogy fölrakni se a Debiant, se a FreeBSD-t nem tudom, noha persze azóta a teljes dokumentációt elolvastam. Nem derül ki belőle, mért van az, hogy a FreeBSD esetében a rendszer elszáll abban a pillanatban, amikor a cédét olvasni kezdi, a Debiannál pedig előjön a telepítőprogram első képernyője, azt mondja, hogy loading /install... Loading idepci.bin... ready, és utána nem történik semmi. Viszont a program párbeszédablakai hajszálra olyanok, mintha a Windowsból vágták volna ki őket, ilyent csak a következő folytatásban sorra kerülő XOSL nyújt, és talán még az Acronis OS Selector, bár azt nem láttam közelről, és ezen az állapoton, mint azt rögtön elmagyarázom, nem is fogok változtatni. Továbbá a BootIt Next Generation fürgén és ügyesen uninstallálja magát, semmiféle kárt nem okoz, emellett letölthető hozzá a Tweak NG nevű utility, (http://www.terabyteunlimited.com/downloads/tweakng.zip), amellyel meg lehet változtatni a grafikus felület képernyőfelbontását, sőt a színsémáját is. Összességében tehát figyelemre méltó darabbal állunk szemben, ezért is locsogtam róla ilyen sokat. Ami pedig az imént említett Acronis OS Selectort (http://www.acronis.com/products/osselector/) illeti, annak csak a redukált képességű demóváltozata tölthető le, az viszont engem nem érdekel. Az imént ismertetett BootIt Next Generation egy teljes fegyverzetű verzió volt, aztán annyi hasznát vettem, amennyit. Képzeljük el redukált képességekkel ugyanezt. No ne.

### Graphical Boot Manager & Tsai

A BootIt Next Generation tehát nem vált be, viszont elvileg alkalmas volna arra, amire nekem szükségem van, szemben a "boot manager" címszó alatt megjelenő felhozatal nagy részével, ami e célra elvileg sem alkalmas. Hogy akkor mégis mire jók ezek a dolgok, azt általános érvénnyel nem lehet megmondani. Lássunk néhány példát. A Boot Manager Boot-US 2.0.5 című képződmény egy parancssori DOS-program, képes partíciókat aktiválni és deaktiválni, s ezáltal a rajtuk lévő operációs rendszer elindul vagy veszteg marad; továbbá képes partíciókat elrejteni vagy előkotorni, s így ezeket a majdan elinduló operációs rendszer látni fogja vagy nem fogja látni. Amúgy egyébként universal boot managernek nevezi magát, Windows alatt futó változata is van, de azért előre kell fizetni, a DOS alattiért utólag, mégpedig tizenöt dollárt. Egy német úriember fejleszti, bizonyára jól keres vele. Alfabetikus rendben most a grub kerülne sorra, és a grub jó is a maga módján, viszont nem arra a célra, amire nekem kéne, és ráadásul a Linuxban amúgy is benne van. Ennek megfelelően a már említett Graphical Boot Manager következik, egy különös és látványos jószág, feltétlenül figyelemre méltó, habár particionálni nem tud egyáltalán, vagyis nem az a kategória, amire én gondolok. Viszont bármelyik merevlemez bármelyik partíciójáról (kiterjesztett partíción ülő logikai meghajtókról is) operációs rendszert tud indítani, maximum kilencet. Partíciókat elrejteni is tud, ennélfogva semmi akadálya nem lehet annak, hogy ugyanarra a merevlemezre a Windows 9x két vagy több példányát telepítsük, ha netán erre vágyunk. És ráadásul nyílt forráskódú szoftver, megbízható, továbbá igen mutatós. MasterBooter címmel magyar fejlesztésű bootkezelő is létezik (www.masterbooter.com), legfrissebb verziója a 3.2, ára 5000 HUF, shareware változata maximum három rendszert indít. Izgalmasabb benyomást kelt a Multiple Boot Manager (http://elm-chan.org/fsw/mbm/mbm.html), egy Takeshi Akamatsu nevű úriember munkája, sőt, ha lehet mondani, ez a kelleténél is izgalmasabb, amennyiben a csomag mindenféle titokzatos célú állományokat tartalmaz, a dokumentáció pedig nagyrészt japánul van. Találtam egy Partition Boot Manager 1.02 nevű képződményt (http://www.sadevelopment.com/), nem ingyenes, viszont fölöttébb erősen hasonlít arra az ideális bootkezelőre, amit a noteszgépen látni szeretnék. Egy baja van csupán, az viszont elég nagy, legalábbis az én esetemben, továbbá, gondolom, azokéban is, akik úgy általában bootkezelő telepítésére adják a fejüket; a gond lényege abban áll, hogy a Partition Boot Managernek saját partícióra van szüksége, éspedig a jelek szerint a merevlemez legelején. A probléma megértéséhez tudni kell, hogy a bootkezelők jó része aránylag tömör képződmény, s így prímán elvan a merevlemez első sávját alkotó rejtett szektorokban (a cylinder 0, head 0, sector 2­63 alatti területen, hogy precíz legyek), saját partíciót nem igényel, se kicsit, se nagyot, továbbá az is mindegy neki, hogy van-e már a gépen operációs rendszer, hány operációs rendszer van rajta és mik azok. Ilyen például az imént már említett MasterBooter, továbbá ilyen a következő alkalommal sorra kerülő OSL2000, a SyMon, a zBoot Manager és mások. Természetesen az ekként működő bootkezelők szolgáltatásválasztéka bizonyos fokig behatárolt, hülyeségekre nincs helyük, tehát karakteres módban dolgoznak, nem játszanak le MP3-állományokat és csevegőprogramként sem hasznosíthatók. Van aztán a másik műfaj, amihez egyebek között a fentebb tárgyalt BootIt Next Generation és a következő részben sorra kerülő XOSL tartozik, annak már saját partícióra van szüksége, mert kell a hely a grafikus felületnek, a Windows jellegű párbeszédablakoknak, a hangállományoknak meg a többi hasonló kösöntyűnek, viszont ­ jó esetben ­ mindegy neki, hogy az a partíció hova esik. Erre megint csak a BootIt Next Generationt tudom példaként felhozni, talált a gépen üres helyet, azon létrehozott magának egy rejtett partíciót, nem is volt vele semmi gond. Operációs rendszereket ugyan nem tudtam telepíteni alá, de hát mint tudjuk, ezen a világon semmi sem tökéletes. Vele ellentétben a Partition Boot Manager nagyon is fontosnak érzi, hogy milyen a lakóingatlan fekvése, nálam telepítéskor rámutatott a gépen lévő NTFS-partícióra, melynek a haszonélvezeti joga az XP-t illeti meg, és odaírta mellé, hogy "Using Required Space", vagyis szerinte az XP az ő helyét bitorolja, legyek szíves onnét kihajítani, hogy ő ­ mármint a Partition Boot Manager ­ az ablak melletti helyet foglalhassa el. Ez most nem fog összejönni, úgyhogy a jövő hónapban a Ranish Partition Managerrel folytatjuk.

Váncsa István