2003. év 17. szám

# Ha én volnék Oszama

## Szerzőnk folytatja a FreeBSD operációs rendszerrel a múlt hónapban megkezdett flörtjét, később az OpenBSD körül legyeskedik, végül azonban a PsiLinuxot viszi az ágyba, de szó szerint

Egy hónappal ezelőtt a BSD családhoz tartozó operációs rendszerek történetéről és mindenekelőtt a FreeBSD-ről volt szó e helyt. Nyájas olvasóm talán már le is töltötte a megfelelő cd-image állományt, vadul felrakta az első gépre, ami útjába akadt, s azóta bizonyára szünet nélkül örvendezik. Persze nem úgy, ahogy eddig szokott. A FreeBSD másképp teszi boldoggá az embert, mint mondjuk, egy új keletű Linux-disztribúció, más érzés együtt élni vele, de már az előjáték, tehát a rendszer fölrakása is borzongatóan kuriózus. Hogy mást ne mondjak, az egyszerű adófizető, aminő például méltatlan személyem, ahhoz van szokva, hogy ha megcsinált valamit, akkor azt egy OK jelű gombbal konfirmálja, és ezzel egyidejűleg megy is tovább. A FreeBSD telepítésekor viszont nem mindig lehet pontosan tudni, hogy jóváhagytuk-e a változtatást, vagy nem hagytuk jóvá, s ettől az ember kissé bizonytalan lesz, mint idősebb angol úrinő, aki a toalett előtt a lordkancellár feleségével találkozik, és nem tudja biztosan, hogy lehúzta-e a vécét maga után.

### Elúrhodik rajtunk a kevélység

Ezzel együtt a művelet sikerül, mért is ne sikerülne; a www.freebsd.org címen találunk egy nagyszerű kompendiumot, amely kézen fogva vezet végig a telepítés fázisain. Végül a rendszer gratulál, kiválasztatja velünk a megfelelő hálózati csatolót, majd elsőként az iránt érdeklődik, hogy szabad-e őneki gateway-ként teljesíteni szolgálatot. Továbbá lesz-e itten ftp-, telnet-, NFS-kiszolgáló, vagy nem lesz. Biztonsági szintet is definiálunk, ami nyilván némi fejtörésre ad majd okot, utána a konzol beállítása következik: képernyőfont, billentyűzetkiosztás, sőt képernyővédő. Ugyanis a FreeBSD-t futtató rendszereken nem okvetlenül fut X, hisz az esetek többségében nincs rá szükség, és így a badarságoknak is a konzolon kell helyet kapniuk. Mindamellett konfiguráljuk az XFree86-ot, e célra van egy teljesen grafikus eszköz, ami persze nem nagyon működik, viszont szerencsére van szöveges eljárás is, amivel a feladat igen hamar abszolválható, mármint úgy-ahogy. Az egy darab telepítő cédén vannak a rendelkezésre álló alkalmazások is, illetve egy részük, ez mondjuk, nem túl sok, de nekem pont elég. Van többfajta böngésző, mutt, emacs, miegyéb. Továbbá fel lehet rakni a Linux kompatibilitási réteget, miáltal a FreeBSD az összes Linux alkalmazást futtatja, és innentől már másképp néz ki a dolog. Azonban ott még nem tartunk, ez egy frissen telepített rendszer, X nélkül használva állománykezelőnek leginkább maga a shell kínálkozik, alapértelmezésben csh, ami értelemszerűen lecserélhető például kshra, de már a basht utólag kell telepíteni. Midnight Commander vagy ilyesmi persze nincs egyelőre, mármint az alapcsomagban, egyébként az lenne abszurd, ha volna. (Mindamellett a lehető leghamarább fölrakom.) A rendszer alapértelmezés szerinti szövegszerkesztője pedig nvi, egy vi-implementáció a 4BSD-ből, azaz 1980-ból. Azért itt álljunk meg egy pillanatra. A FreeBSD 5.0-át 2003. január 19-én jelentették be, és ez a rendszer, mint látjuk, egy huszonhárom esztendős szoftvereszközt is tartalmaz egyebek között. Más kérdés, hogy ezt a huszonhárom esztendős szoftvereszközt én se használom, noha amúgy szeretem az archaikus módszereket és eljárásokat, de az nvi még nekem is sok egy kicsit. Ezzel együtt úgy érzem, a FreeBSD-ben van egy olyanfajta gracilitás, amiről a hatvanas évekből származó oldtimer sportautók jutnak az eszünkbe, vagy még inkább a nagyon előkelő, mechanikus órák, az egyedi gyártású (méregdrága) mechanikus lemezjátszók és az ugyancsak egyedi gyártású (méregdrága) elektroncsöves erősítők. Ez utóbbi holmik a leghagyományosabb, legkiérleltebb műszaki elgondolásokra épülnek, ám azokat nemritkán a legfrissebb technológiákkal ötvözik. Ettől annyira jók, és a FreeBSD pont ilyen. Bizonyos részei nem sokkal az ősrobbanást követően alakultak ki, ugyanakkor például van benne ACPI támogatás, ami a Linuxban még fejlesztés alatt áll. Most akkor egy kis statisztika. Az Élet és Irodalom honlapjának látogatói között egy FreeBSD-felhasználóra két AIX-, hat HP-UX-, húsz IRIX- és hatvan SunOS-felhasználó esik. A Linux-felhasználók aránya ennél valamivel több, vagyis kétszázszoros, tehát egy FreeBSD-re jut kétszáz Linux. Amúgy generálisan (értsd: az ÉS olvasótáborán kívüli világban) ez az arány ­ állítólag ­ csak tízszeres, de az se kevés. Ha tehát nyájas olvasóm valami abszolút exkluzív virtuális klub tagjává kívánna válni, és mondjuk, úgy akarna a Linux-hívekre pillantani, ahogy ők (a Linux-hívek) a Windows felhasználóinak alacsony tömegét méregetik (odi profanum vulgus et arceo), akkor vidáman telepítsen FreeBSD-t, ha még nem tette meg. Utána high-end képződményt mondhat majd a magáénak, olyasfélét, mint amit az audiofilia világában, mondjuk, egy Lamm ML2 monocsöves végfok jelent (mintegy harmincezer dollárért): semmi cafrang, semmi díszítmény, semmi gagyi, csak a minőség a maga pőre valójában. És ez még mindig nem a csúcs, a FreeBSD-től még mindig vezet út tovább és fölfelé, de ennek a belátásához végig kell vinnünk a történelmi visszapillantást, ami a múlt hónapban abbamaradt.

### A fajok eredete

Áttekintettük a BSD őstörténetét, most ugorjunk. A lényeg az, hogy ­ mint írtam ­ a BSD idővel önálló életet kezdett élni, valójában ez volt a Unix húsa és bőre, a BSD és a Unix viszonya a GNU és a Linux mai viszonyára emlékeztetett. A GNU környezetből csak a rendszermag hiányzik (már egyre kevésbé) ahhoz, hogy komplett operációs rendszerről beszélhessünk, a BSD-ből hat darab állomány hiányzott mindössze, eddig jutottunk el márciusban. Folytassuk azzal, hogy a nyolcvanas évek végén már számos különféle számítógép-architektúrán futottak BSD-változatok, az Intel x86-os platformot kivéve. A vákuum betöltésére egy programozó házaspár, Bill és Lynne Jolitz vállalkozott, 1991 elejére megalkották a 386BSD nevű, immár teljes, futtatható, egyben nyílt forráskódú operációs rendszer 0.0 változatát. Harminc hajlékonylemezt töltött meg, egyéb haszna az idő szerint még nemigen volt. Következő évben megjelent a 0.1 változat, azt már negyedmillióan töltötték le, sőt, ahogy ez a nyílt forráskódú világban szokás, el is ágazott. Létrejött egy NetBSD nevű csoport, azzal a céllal, hogy a BSD operációs rendszert minden lehetséges vasárun futtathatóvá tegye, talán a régebbi típusú kenyérpirítók kivételével, és 1993 áprilisában már meg is jelent a NetBSD 0.8 változata. Most a fejlesztés az 1.6 verziónál tart (2002. szeptember 14.), ez amúgy már a tizenkilencedik frissítés, csak hát itt nagyon mértéktartó számozás van divatban. Jolitzék közben barkácsolták tovább a 386BSD-t, '93 végére el is készült az 1.0 változat, de addigra a fejlesztés lelas-sult. Közben független programozók hibajavításokat készítettek a 386BSD-hez, majd, miután Bill Jolitz különösebb együttműködési hajlandóságot nem mutatott, összefércelték a patcheket, ebből lett a FreeBSD 1.0, ami a 386BSD mellett az eredeti Berkeley 4.3BSD-re és a Free Software Foundation eredményeire is támaszkodott. Mindez 1993 decemberében állt össze, tehát a FreeBSD ebben az értelemben tízéves csupán. Megjegyzendő, hogy a FreeBSD projectet hárman alapították, Nate Williams, Rod Grimes és Jordan Hubbard, utóbbi mostanában az Apple úgynevezett Darwin-projectjét erősíti. A Darwin pedig az Apple új operációs rendszerének a lényege, vagyis a Darwin mindaz, ami a grafikus környezet mögött van, és ami ott van, az mindenestül BSD. Vagyis a MacOS X valójában fajtiszta BSD operációs rendszer. A Darwinra éppúgy rá lehet tenni egy XFree86-ot, amint akármire, és onnantól kezdve a FreeBSD-től meg se különböztethető. Eszerint tehát már három BSD jellegű rendszerünk volna, ám a MacOS X nem szabadszoftver, és nem is viseli a BSD nevet. Attól még persze, rokon, a BSD-k között emlegetni mégse szokás.

### A kacagó gerle telepít

A harmadik BSD az OpenBSD nevet viseli, és a NetBSD-ről vált le, ahogy a NetBSD levált a 386BSD-ről valamivel hamarább. 1996 óta van OpenBSD, most a 3.2 verziójánál tart, célja teljesen más, mint a NetBSD-é. Theo de Raadt, az OpenBSD atyja szimplán csak a földkerekség legbiztonságosabb operációs rendszerét akarta létrehozni, és azt is hozta létre. Ehhez képest kissé fura nevet választott, olyan ez, mintha egy betörésvédelemmel foglalkozó cég a Nyitott Kapu Bt. nevet viselné. Az OpenBSD áthatolhatatlanul csukott képződmény, fennállása óta egyetlenegy alkalommal sikerült valakinek megpiszkálnia, akkor is az Apache webszerver egyik nyitva maradt hátsó ajtaján keresztül. Ezt leszámítva semmi. Azok a webállomások (CIA, például), amelyekből szemfülesebb középiskolás gyerekek szoktak hülyét csinálni, nem OpenBSD-t futtatnak. (Ha már itt tartunk, a CIA webállomása Red Hat Linux plusz Apache 1.3.12 alatt üzemel.) Ami a kriptográfiát illeti, azzal kapcsolatban az Egyesült Államokon belül akadhatnak különféle jogi problémák, Theo de Raadt, az OpenBSD atyja azonban Kanadában, Cagliaryban él, tehát úgy titkosít, ahogy csak akar. Az OpenBSD ennek megfelelően az egyetlen olyan operációs rendszer, aminek a kriptográfia szerves és elidegeníthetetlen része, nem utólag csapják hozzá, hanem mintegy az alapkőletételtől kezdve épül bele. Ha én nemzetközi terrorista volnék, akkor a szervezeten belül csakis az OpenBSD használatát engedélyezném, semmi mást, és ha azt látnám, hogy valamelyik beosztottam noteszgépén Linux működik, az illetőt a helyszínen lőném agyon. Minthogy azonban nemzetközi terrorista sem vagyok, az OpenBSD egy másik sajátossága érdekel inkább, a kódauditálás, ahogy ők nevezik. Az OpenBSD-team tagjai állandóan a forráskódot olvasgatják, mint mások a breviáriumot, sorról sorra, újra meg újra, ez a szórakozásuk, és aki biztonsági rést vagy potenciális hibaforrást talál, az jutalmat kap; gondolom, lemehet sörért. Mindehhez jön még az a körülmény, hogy az OpenBSD felépítése fokozhatatlanul spártai, hozzá képest a FreeBSD olyan, mint a Windows XP egy nyolc évvel ezelőtti Linux disztribúció mellett, vagy mint Lagzi Lajcsi Kurtág mellett. Valójában, persze, a FreeBSD fejlesztői se kívánják elnyerni a felhasználó tetszését, de nagy ritkán ­ roppant ritkán ­ próbálnak az életén valamicskét könynyíteni, persze nem sokat, csak épphogy. Az OpenBSD világában ilyesmi nem fordul elő. A felhasználó kösse föl magát. Ahogy ez a kép elkezdett előttem feltárulni, egyre erősebben éreztem, hogy nekem az OpenBSD-t meg kell ismernem alaposabban, de legalábbis föl kell raknom valami gépre. Ugyan ennek nincs olyan online kézikönyve, mint a FreeBSD-nek, illetve ami dokumentáció van hozzá, abból az derül ki, hogy ennek a rendszernek már a felrakása is áttekinthetetlenül bonyolult, de annál inkább föl kell raknom, tehát fölrakom, lesz, ami lesz. Mindez, persze, azóta már múlt idő. Telepítettem az OpenBSD-t, különféle érdektelen okok folytán többször is, először csakugyan bonyolultnak látszik, azonban az ember idővel belejön. Én ma már, ha szabad így mondanom, kacagó gerleként telepítem az OpenBSD-t bárhová, közben vacsorát főzök és újságot olvasok, a rendszer pedig fölmegy. Sőt ha megpróbálom azt az egészet az NT 4.0 telepítésének rég nem tapasztalt élményével összevetni, akkor alighanem az jön ki belőle, hogy az előbbi volt a nehezebb. Már csak azért is, mert ha ugyanarra a gépre valami oknál fogva több alkalommal is fel kellett tennem az NT-t, a végeredmény mindig különbözött valamelyest. Nemcsak az előző telepítéstől, hanem az összes többitől. Vagyis a folyamat hosszú volt, idegőrlő, és nem lehetett tudni, mi lesz a vége. Ehhez képest az OpenBSD hamar felmegy, közben az ember néha már-már sejteni véli, hogy mit miért csinál, az eredmény pedig mindig ugyanaz. Hogy konkrétabban mi is az eredmény, arra vonatkozólag lássunk valami metaforát. Ha az operációs rendszerek lakóházak volnának, akkor a Windows-házat fényárban úszva vennénk át, meleg vacsora a tűzhelyen, a hűtőben pezsgő, a kert fáin külön e célra tervezett műanyag madarak csivitelnek. Ajtók, ablakok mindenütt nyitva, percenként csöng a telefon. Az OpenBSD-ház sötét, az ablakokon acélzsalugáterek, a bejárati ajtón speciális zárak. Villany, gáz, víz még nincs bekötve, a telefon meg pláne nincs, sőt azt egyelőre meg se rendelték. Belül jéghideg van, nemhogy tűz nem ég a kandallóban, de a környéken éghető anyag és gyufa se található. Út a házhoz nem vezet, közvilágítás egy szál se, a legközelebbi szomszéd öt kilométerre lakik, amúgy süketnéma. Tegyünk hát szert a kettes számú házra; fogjunk is neki.

### Látogatás a Horror Házában

Mindenekelőtt töltsük le a cd-image állományokat az ftp.fsn.hu/pub/CDROM-Images/openbsd címről, és amennyiben az ftp.fsn.hu-ról esetleg semmit nem tudunk, akkor nézzünk rajta körül és olvassuk el a README.access.html állományt. Majd látni fogjuk, hogy ezen a gépen a FreeBSD is megtalálható, és még annyi minden, ahogy mondani szokás. A három cédé, amit letöltöttünk, nem "hivatalos" kiadvány, de ez most mellékes. Telepíteni fogunk. Az OpenBSD az Alfától a VAX-ig elég sokféle platformon fut, de mi nyilván i386-ra kívánjuk fölpakolni őt. Akkor is sikerrel járhatunk, ha a gépünk nem tud cédéről bootolni, sőt valójában ez az alapértelmezés szerinti módszer, kipróbáltam, működik. Ami fontos, az az, hogy a merevlemezünk térképével legyünk tisztában, mi van rajta és mi hol van, precízen mettől meddig. A Windowsunktól ezt nem fogjuk megtudni, az OpenBSD fdiskjétől persze igen, de amit az előad, attól az egyszerű embernek a haja az égnek áll. Kivált, ha olyan merevlemezre telepítünk, amin egy-két operációs rendszer már eleve van, és nyilván olyanra fogunk telepíteni, nos, ilyen esetben az OpenBSD megmutatja nekünk, mit talált a korongon, de ennek valószínűleg nem örülünk majd annyira. Az előző részben (a múlt hónapban) azt írtam, hogy én tudom, mi a horror, erre voltam bátor utalni a magam egyszerű módján. Én mindenesetre elhajítottam a sarlót és a kalapácsot, amikor megláttam, hogy az OpenBSD fdiskje mivel hozakodik elő, kerestem egy egyszerűbb cuccot (úgy hívják, SyMon, de ez most mindegy, hasonló akad még legalább egy tucat), attól megtudtam, mi is a helyzet az ingatlan alaprajzát illetően ­ utána már kezdtem érteni valamit abból, amit az OpenBSD mutatott. Nem sokat, de már kevésbé éreztem hülyének magam. A telepítő megkérdezi, hogy van-e biztonsági másolat mindarról, amit a meglevő állományrendszerek által elfoglalt területen (tehát a többi operációs rendszer égisze alatt) tárolunk, ezt gondoljuk át alaposan. Lehet, hogy már tizenöt éve zsonglírozunk különféle merevlemezekkel, és még egyiket se ziláltuk széjjel, de ami késik, az is bejön előbb vagy utóbb. Ezt se az ujjamból szopom. Ami ezután következik, arra megfelelő szavak nincsenek is. Illetve vannak, a telepítő azt mondja, hogy ezt az egészet gyakorolni kell. Szokjak hozzá. Próbálgassam. Akárhányszor végig lehet csinálni, közben a telepítő nem nyúl a merevlemezhez, csak a végső, nagyon hangsúlyos megerősítést követően, úgyhogy szabad idétlenkedni, ameddig csak jólesik. A merevlemez teljes adatvesztéséhez nem ez az út vezet, azt majd másképp fogom megoldani, egyelőre nem is hiszem önmagamról, hogy mennyire találékony vagyok. Végül, ha már minden összeállt, arra jövök rá, hogy ez az egész folyamat egyszerű, gyors és logikus. Hovatovább kezdem komolyan bánni, hogy szegény jó Godzillát annak idején elajándékoztam, most príma tűzfalat építhetnék belőle három gépből álló birodalmam meg a külvilág közé. Az eljárás némiképp bonyolult, úgyhogy nyilván elvolnék vele egy darabig, még akkor is, ha ezenkívül más teendőm nem akadna egyáltalán. De persze akad. A telepítés végén újraindítok, bejelentkezem, azt mondja, hogy "apm0: battery life expectancy 0%". Stimmel, rossz az akkumulátorom, majd ki kell cserélni. Viszont ezen a gépen megfordult már egy-két operációs rendszer, de egyiknek se jutott eszébe, hogy emiatt verje az asztalt. Ráadásul magán a login konzolon. (Persze azt nyilván fölösleges volna mondanom, hogy az OpenBSD se indítja el az X-et az első bejelentkezés után, egyebek között már csak azért se, mert az még nincs is konfigurálva.) A figyelmeztetés állandóan ismétlődik, nem lehet nem észrevenni, sőt dolgozni se lehet mellette, úgyhogy a legegyszerűbb megoldást választom, kiveszem a rossz akkumulátort, ettől a rendszer megnyugszik. Ha nincs akkumulátor, az egy más helyzet, az olyan, mint amikor az embernek egyáltalán nincs szemüvege. Ha viszont van neki, akkor legyen is használható. Magyar billentyűzetet sajnos nem kapunk. Az X-hez, persze, van, minthogy az XFree86 lényegében független az operációs rendszertől, amely alatt fut, ámde magának az OpenBSD-nek nincs magyar billentyűzetkiosztása, amivel a konzolon dolgozni tudnék. Persze nem kizárt, hogy májusra vagy novemberre már lesz (az OpenBSD új változatai félévenként jelennek meg, májusban és novemberben, úgy memorizáltam, hogy május elsején és november hetedikén), úgyhogy én ezt a rendszert a legközelebbi munkásmozgalmi ünnepig abban a tudatban hagyom békén, hogy a FreeBSD mellett is pompásan fogok szórakozni, ha éppen lesz erre a célra valamennyi időm. Igazából azt fájlalom legjobban, hogy a család harmadik tagjának, a NetBSD-nek nem tudok otthont adni, pedig őt aztán végképp nagy örömmel látnám a fedelem alatt. Megmagyarázom.

### Linux lesz a Psionon

Említettem a múlt hónapban, hogy a Psion Rendszerház Kft.-nek és e cég szentéletű vezetőjének, Dés Tamásnak köszönhetően, újra van a kezem ügyében egy Psion netBook is, és véletlenszerű egybeesés folytán nagyjából azóta nézegetem a BSD-változatokat, amióta a netBook visszatért. Természetesen azon is lennie kéne valamifajta BSD-nek, naná. Az Epoc ugyan nagyon jó operációs rendszer, és messzemenően idiótabarát, de a netBook ennél többre is képes lehetne. A NetBSD-t egyébként is azért fejlesztik, hogy különféle félkarú rablókon, wurlitzereken, mikrosütőkön és óvszerautomatákon is fusson, mármost ebbe a sorba a Psionnak is bele kéne férnie valahogy. Másfelől meg a BSD-k, vagy ha úgy tetszik, a Unix futtatására a régi szép időkben egészen érdekes eszközök is alkalmasnak bizonyultak. A PDP­11-et ezúttal nem is említeném, de nézzünk meg például egy Sun 2 Workstationt, mi volt abban vajon. Motorola 68010 processzor 10 megahertzen, maximum négy megabájt fizikai memória, legfeljebb tizenhat (!) megabájt virtuális (!) memória, 42 megabájt SCSI HDD. Ez az "impressive machine" (a UNIX/ WORLD Magazine 1984. októberi számából vett kifejezés) 4.2BSD-t futtatott, és nyilván kielégítő módon, mert hát azon az áron másképp nemigen vették volna meg. Egyébként a Sun 2 Workstation ára csakugyan érdekes, mondhatnám, meglepő. A föntebb jellemzett készülék száz híján negyvenötezer dollárba került. A netBook ennél olcsóbb is, meg képességesebb is, ámde nem fut rajta semmilyen BSD, sőt egyelőre Linux se. Majd, később, talán. Viszont létrejött egy Linux-változat, a PsiLinux, amely Psion 5mx-re fölrakható, sőt működik, miáltal is a pénztárca méretű 5mx mostantól elvileg webkiszolgáló is lehetne akár. Persze az nem lesz, ellenben mostantól az ágyban is Vim 6.1-et használhatok. Erről azonban legközelebb.

Váncsa István